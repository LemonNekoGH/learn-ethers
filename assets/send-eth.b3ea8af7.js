import{L as w,A as k,B as h,C as y,D as O,E as P,F as H,d as N,m as S,n as I,s as R,o as U,c as z,b as M,q as v,v as D,e as d,f as L,x as j,y as Z,l as G,S as g,k as W,i as B}from"./index.093eba87.js";const a=new w(k),E={},C=h.from(0),V=h.from(-1);function $(n,t,r,e){const o={fault:t,operation:r};return e!==void 0&&(o.value=e),a.throwError(n,w.errors.NUMERIC_FAULT,o)}let F="0";for(;F.length<256;)F+=F;function A(n){if(typeof n!="number")try{n=h.from(n).toNumber()}catch{}return typeof n=="number"&&n>=0&&n<=256&&!(n%1)?"1"+F.substring(0,n):a.throwArgumentError("invalid decimal size","decimals",n)}function _(n,t){t==null&&(t=0);const r=A(t);n=h.from(n);const e=n.lt(C);e&&(n=n.mul(V));let o=n.mod(r).toString();for(;o.length<r.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=n.div(r).toString();return r.length===1?n=s:n=s+"."+o,e&&(n="-"+n),n}function c(n,t){t==null&&(t=0);const r=A(t);(typeof n!="string"||!n.match(/^-?[0-9.]+$/))&&a.throwArgumentError("invalid decimal value","value",n);const e=n.substring(0,1)==="-";e&&(n=n.substring(1)),n==="."&&a.throwArgumentError("missing value","value",n);const o=n.split(".");o.length>2&&a.throwArgumentError("too many decimal points","value",n);let s=o[0],i=o[1];for(s||(s="0"),i||(i="0");i[i.length-1]==="0";)i=i.substring(0,i.length-1);for(i.length>r.length-1&&$("fractional component exceeds decimals","underflow","parseFixed"),i===""&&(i="0");i.length<r.length-1;)i+="0";const m=h.from(s),l=h.from(i);let f=m.mul(r).add(l);return e&&(f=f.mul(V)),f}class p{constructor(t,r,e,o){t!==E&&a.throwError("cannot use FixedFormat constructor; use FixedFormat.from",w.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=e,this.decimals=o,this.name=(r?"":"u")+"fixed"+String(e)+"x"+String(o),this._multiplier=A(o),Object.freeze(this)}static from(t){if(t instanceof p)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,e=128,o=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||a.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",e=parseInt(s[2]),o=parseInt(s[3])}}else if(t){const s=(i,m,l)=>t[i]==null?l:(typeof t[i]!==m&&a.throwArgumentError("invalid fixed format ("+i+" not "+m+")","format."+i,t[i]),t[i]);r=s("signed","boolean",r),e=s("width","number",e),o=s("decimals","number",o)}return e%8&&a.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",e),o>80&&a.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new p(E,r,e,o)}}class u{constructor(t,r,e,o){t!==E&&a.throwError("cannot use FixedNumber constructor; use FixedNumber.from",w.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=r,this._value=e,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&a.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=c(this._value,this.format.decimals),e=c(t._value,t.format.decimals);return u.fromValue(r.add(e),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=c(this._value,this.format.decimals),e=c(t._value,t.format.decimals);return u.fromValue(r.sub(e),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=c(this._value,this.format.decimals),e=c(t._value,t.format.decimals);return u.fromValue(r.mul(e).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=c(this._value,this.format.decimals),e=c(t._value,t.format.decimals);return u.fromValue(r.mul(this.format._multiplier).div(e),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=u.from(t[0],this.format);const e=!t[1].match(/^(0*)$/);return this.isNegative()&&e&&(r=r.subUnsafe(T.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=u.from(t[0],this.format);const e=!t[1].match(/^(0*)$/);return!this.isNegative()&&e&&(r=r.addUnsafe(T.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&a.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const e=u.from("1"+F.substring(0,t),this.format),o=q.toFormat(this.format);return this.mulUnsafe(e).addUnsafe(o).floor().divUnsafe(e)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&a.throwArgumentError("invalid byte width","width",t);const r=h.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return y(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return u.fromString(this._value,t)}static fromValue(t,r,e){return e==null&&r!=null&&!O(r)&&(e=r,r=null),r==null&&(r=0),e==null&&(e="fixed"),u.fromString(_(t,r),p.from(e))}static fromString(t,r){r==null&&(r="fixed");const e=p.from(r),o=c(t,e.decimals);!e.signed&&o.lt(C)&&$("unsigned value cannot be negative","overflow","value",t);let s=null;e.signed?s=o.toTwos(e.width).toHexString():(s=o.toHexString(),s=y(s,e.width/8));const i=_(o,e.decimals);return new u(E,s,i,e)}static fromBytes(t,r){r==null&&(r="fixed");const e=p.from(r);if(P(t).length>e.width/8)throw new Error("overflow");let o=h.from(t);e.signed&&(o=o.fromTwos(e.width));const s=o.toTwos((e.signed?0:1)+e.width).toHexString(),i=_(o,e.decimals);return new u(E,s,i,e)}static from(t,r){if(typeof t=="string")return u.fromString(t,r);if(H(t))return u.fromBytes(t,r);try{return u.fromValue(t,0,r)}catch(e){if(e.code!==w.errors.INVALID_ARGUMENT)throw e}return a.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const T=u.from(1),q=u.from("0.5"),J="units/5.7.0",K=new w(J),Q=["wei","kwei","mwei","gwei","szabo","finney","ether"];function X(n,t){if(typeof n!="string"&&K.throwArgumentError("value must be a string","value",n),typeof t=="string"){const r=Q.indexOf(t);r!==-1&&(t=3*r)}return c(n,t!=null?t:18)}function Y(n){return X(n,18)}const tt=d("label",{class:"hidden",for:"input"},"\u8F93\u5165\u8981\u53D1\u9001\u7684 ETH \u6570\u91CF",-1),rt=d("br",null,null,-1),et=d("label",{class:"hidden",for:"input2"},"\u8F93\u5165\u63A5\u6536\u5730\u5740",-1),nt=N({__name:"send-eth",setup(n){const t=S(""),r=S(""),e=I(),{address:o}=R(e),s=async()=>{const m=e.getProvider();if(!m){g.fire({text:"\u8BF7\u5148\u8FDE\u63A5\u94B1\u5305"});return}const l=m.getSigner();try{const f=await l.sendTransaction({to:r.value,value:Y(t.value)});g.fire({text:`\u4EA4\u6613\u5DF2\u53D1\u9001 ${f.hash}`}),await f.wait(2),g.fire({text:`\u4EA4\u6613\u5DF2\u786E\u8BA4 ${f.hash}`})}catch(f){const x=f;x.message.includes("reject")?g.fire({text:"\u4F60\u62D2\u7EDD\u4E86\u4EA4\u6613"}):x.message.includes("too many decimal points")?g.fire({text:"\u901A\u8BC1\u6570\u91CF\u683C\u5F0F\u4E0D\u6B63\u786E"}):g.fire({text:`\u4EA4\u6613\u53D1\u9001\u5931\u8D25 ${x.message}`})}},i=async()=>{s()};return(m,l)=>{const f=G,x=W;return U(),z("div",null,[M(f),v(d("input",{id:"input","onUpdate:modelValue":l[0]||(l[0]=b=>t.value=b),placeholder:"\u8F93\u5165\u8981\u53D1\u9001\u7684 ETH \u6570\u91CF","aria-label":"\u8F93\u5165\u8981\u53D1\u9001\u7684 ETH \u6570\u91CF",type:"text",autocomplete:"false",p:"x4 y2",w:"250px",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},null,512),[[D,t.value]]),tt,rt,v(d("input",{id:"input2","onUpdate:modelValue":l[1]||(l[1]=b=>r.value=b),placeholder:"\u8F93\u5165\u63A5\u6536\u5730\u5740","aria-label":"\u8F93\u5165\u63A5\u6536\u5730\u5740",type:"text",autocomplete:"false",p:"x4 y2",w:"250px",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},null,512),[[D,r.value]]),et,d("div",null,[L(o).length?Z("",!0):(U(),j(x,{key:0})),d("button",{btn:"","m-3":"","text-sm":"",onClick:i}," \u5F00\u59CB\u8F6C\u8D26 ")])])}}});typeof B=="function"&&B(nt);export{nt as default};
