import{d as v,m as p,n as E,s as B,w as F,p as D,o as m,c as y,b as A,e as t,t as h,q as b,v as w,f as C,x as k,y as S,h as V,S as r,z as _,l as U,k as N,i as g}from"./index.093eba87.js";const T=V("\u7528\u4E8E\u7EC3\u4E60\u7684\u5408\u7EA6\uFF1A"),$={"text-sm":"","opacity-75":""},M=t("label",{class:"hidden",for:"input"},"\u8F93\u5165\u65B0\u7684\u7528\u6237\u540D",-1),P=t("br",null,null,-1),W=v({__name:"contract-interact",setup(q){const i="0x43c6a3a783882c1862fa543366fe531381ae4c60",c=p(""),l=p(""),d=E(),{address:n}=B(d),x=async()=>{if(l.value.length<3){r.fire({text:"\u7528\u6237\u540D\u81F3\u5C11\u8981\u6709\u4E24\u4E2A\u5B57\u7B26"});return}const e=d.getProvider();if(!e){r.fire({text:"\u8BF7\u5148\u8FDE\u63A5\u94B1\u5305"});return}const u=_(i,e.getSigner());try{const a=await u.setUsername(l.value);r.fire({text:"\u8BBE\u7F6E\u7528\u6237\u540D\u4EA4\u6613\u53D1\u9001\u6210\u529F"}),await a.wait(2),r.fire({text:"\u4EA4\u6613\u5DF2\u88AB\u81F3\u5C11\u4E24\u4E2A\u533A\u5757\u786E\u8BA4"})}catch(a){r.fire({text:`\u4EA4\u6613\u53D1\u9001\u5931\u8D25 ${a.message}`})}},f=async e=>_(i,d.getProvider().getSigner()).getUsername(e);return F([n],([e],[u])=>{const a=u.length?u[0]:"",o=e.length?e[0]:"";if(a!==o){if(o===""){c.value="";return}f(o).then(s=>c.value=s).catch(s=>console.log(s))}}),D(()=>{n.value.length&&n.value[0]&&f(n.value[0]).then(e=>c.value=e).catch(e=>console.log(e))}),(e,u)=>{const a=U,o=N;return m(),y("div",null,[A(a),t("p",null,[t("em",{"text-sm":"","opacity-75":""},[T,t("a",{href:"https://goerli.etherscan.io/address/0xb1e91e92c54aca98465f36aeaf408df9cfd9ae48",hover:"text-red"},h(i))])]),t("p",null,[t("em",$,"\u4F60\u7684\u7528\u6237\u540D\uFF1A"+h(c.value),1)]),b(t("input",{id:"input","onUpdate:modelValue":u[0]||(u[0]=s=>l.value=s),placeholder:"\u8F93\u5165\u65B0\u7684\u7528\u6237\u540D","aria-label":"\u8F93\u5165\u65B0\u7684\u7528\u6237\u540D",type:"text",autocomplete:"false",p:"x4 y2",w:"250px",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},null,512),[[w,l.value]]),M,P,t("div",null,[C(n).length?S("",!0):(m(),k(o,{key:0})),t("button",{btn:"","m-3":"","text-sm":"",onClick:x}," \u8BBE\u7F6E\u7528\u6237\u540D ")])])}}});typeof g=="function"&&g(W);export{W as default};
